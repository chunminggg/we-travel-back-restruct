{"version":3,"sources":["webpack:///./src/view/components/drag-list/drag-list.vue?3f50","webpack:///src/view/components/drag-list/drag-list.vue","webpack:///./src/view/components/drag-list/drag-list.vue?4505","webpack:///./src/view/components/drag-list/drag-list.vue","webpack:///./src/view/components/drag-list/drag-list.vue?ead5"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","title","gutter","span","placeholder","clearable","on","on-change","themeChange","model","value","params","callback","$$v","$set","expression","_l","item","key","_v","_s","label","staticStyle","margin-top","columns","data","total","pageChange","staticRenderFns","drag_listvue_type_script_lang_js_","_this","that","themeSelected","productTypes","h","themeName","find","row","type","size","click","editItem","style","clcik","deleteItem","mounted","getData","getThemeData","methods","_getData","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","service","sent","map","assign","attributes","id","stop","apply","arguments","_getThemeData","_callee2","_context2","name","_this2","$Modal","confirm","content","onOk","then","$Message","success","error","$router","push","concat","pageIndex","drag_list_drag_listvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_0_4_4_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_15_4_2_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_1_2_2_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_4_2_vue_loader_lib_index_js_vue_loader_options_drag_list_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_0_4_4_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_15_4_2_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_1_2_2_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_4_2_vue_loader_lib_index_js_vue_loader_options_drag_list_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-4b839720.655b2b70.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Card',{attrs:{\"title\":\"产品过滤\"}},[_c('Row',{attrs:{\"gutter\":16}},[_c('Col',{attrs:{\"span\":\"6\"}},[_c('Select',{attrs:{\"placeholder\":\"主题过滤\",\"clearable\":\"\"},on:{\"on-change\":_vm.themeChange},model:{value:(_vm.params.themeSelected),callback:function ($$v) {_vm.$set(_vm.params, \"themeSelected\", $$v)},expression:\"params.themeSelected\"}},_vm._l((_vm.productTypes),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}))],1)],1)],1),_c('Table',{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"columns\":_vm.columns,\"data\":_vm.data}}),_c('Page',{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"total\":_vm.total},on:{\"on-change\":_vm.pageChange}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <Card title=\"产品过滤\">\n      <Row :gutter=\"16\">\n        <Col span=\"6\">\n        <Select v-model=\"params.themeSelected\" placeholder=\"主题过滤\" @on-change=\"themeChange\" clearable>\n          <Option v-for=\"item in productTypes\" :key=\"item.value\" :value=\"item.value\">{{item.label}}</Option>\n        </Select>\n        </Col>\n      </Row>\n    </Card>\n    <Table\n      :columns=\"columns\"\n      :data=\"data\"\n      style=\"margin-top:10px;\"\n    >\n\n    </Table>\n    <Page\n      :total=\"total\"\n      @on-change=\"pageChange\"\n      style=\"margin-top:10px;\"\n    ></Page>\n  </div>\n</template>\n\n<script>\nimport { getProductList, deleteProduct, getTheme } from \"@/libs/service\";\nexport default {\n  data() {\n    let that = this\n    return {\n      params:{\n        themeSelected:''\n      },\n      total: 0,\n      productTypes: [],\n      columns: [\n        {\n          key: \"name\",\n          title: \"名称\"\n        },\n        {\n          key:'type',\n          title:'所属主题',\n          render(h,params){\n            let themeName = that.productTypes.find(item => params.row.type == item.value)\n            return (<span>{themeName.label}</span>)\n          }\n        },\n        {\n          key:'price',\n          title:'价格'\n        },\n        {\n          title: \"操作\",\n          render: (h, params) => {\n            return (\n              <div>\n                <i-button\n                  type=\"primary\"\n                  onClick={() => {\n                    this.editItem(params);\n                  }}\n                  size=\"small\"\n                >\n                  编辑\n                </i-button>\n                <i-button\n                  type=\"error\"\n                  size=\"small\"\n                  style=\"margin-left:10px;\"\n                  onClcik={() => {\n                    this.deleteItem(params);\n                  }}\n                >\n                  删除\n                </i-button>\n              </div>\n            );\n          }\n        }\n      ],\n      data: []\n    };\n  },\n  mounted() {\n    this.getData();\n    this.getThemeData();\n  },\n  methods: {\n    async getData() {\n      let data = await getProductList(this.params);\n      this.data = data.map(item => {\n        return Object.assign(item.attributes, { id: item.id });\n      });\n    },\n    themeChange(value){\n      this.params.themeSelected = value || ''\n      this.getData()\n    },\n    async getThemeData() {\n      let data = await getTheme();\n      this.productTypes = data.map(item => {\n        return {\n          value: item.id,\n          label: item.attributes.name\n        };\n      });\n    },\n    deleteItem(params) {\n      this.$Modal.confirm({\n        title: \"删除\",\n        content: \"确认删除该条数据吗？\",\n        onOk: () => {\n          deleteProduct(params.row.id).then(\n            data => {\n              this.getData();\n              this.$Message.success(\"删除成功\");\n            },\n            error => {\n              this.$Message.error(\"删除失败\");\n            }\n          );\n        }\n      });\n    },\n    editItem(params) {\n      this.$router.push(`edit_product/${params.row.id}`);\n    },\n    pageChange(pageIndex) {}\n  }\n};\n</script>\n\n<style>\n</style>\n","import mod from \"-!../../../../node_modules/_cache-loader@1.2.2@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@1.2.0@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.0.4@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@1.2.2@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./drag-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@1.2.2@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@1.2.0@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.0.4@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@1.2.2@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./drag-list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./drag-list.vue?vue&type=template&id=479f7550&\"\nimport script from \"./drag-list.vue?vue&type=script&lang=js&\"\nexport * from \"./drag-list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./drag-list.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"drag-list.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/_mini-css-extract-plugin@0.4.4@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/_cache-loader@1.2.2@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./drag-list.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.4.4@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/_cache-loader@1.2.2@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./drag-list.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}