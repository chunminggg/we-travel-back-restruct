{"version":3,"sources":["webpack:///./src/view/components/edit-product/edit-product.vue?d7b5","webpack:///src/view/components/edit-product/edit-product.vue","webpack:///./src/view/components/edit-product/edit-product.vue?9291","webpack:///./src/view/components/edit-product/edit-product.vue","webpack:///./src/view/components/edit-product/edit-product.vue?e6a8"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","placeholder","model","value","callback","$$v","productNumber","expression","slot","productName","productPlace","productPrice","productDes","productStartDate","type","on","click","priceSelect","_l","item","index","key","closable","on-close","$event","handleClose","_s","date","price","isRecommend","isSpecialPrice","isFollowTeam","isFreeTravel","productTypeSelected","label","uploadList","imageArray","send-image","getImageArray","richItem","placeHolder","$set","long","submitData","title","on-ok","priceAdd","priceModal","staticStyle","width","singlePrice","singleDate","staticRenderFns","edit_productvue_type_script_lang_js_","components","imageUpload","Editor","editor","quillEditor","vue_quill_editor","data","richItems","content","id","productId","productEndDate","tagArray","dateOption1","disabledDate","valueOf","Date","now","dateOption2","productTypes","fileArray","created","$route","params","getData","methods","_getData","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","info","wrap","_context","prev","next","service","sent","attributes","detailContent","onleyId","place","describe","name","undefined","startDate","stop","_x","apply","arguments","splice","dict","toLocaleDateString","push","getRichTextArray","getFileArray","getNowData","elseSubmitData","network","uploadProdut","$Message","success","$router","_submitData","_callee2","_this","_context2","length","error","$nextTick","go","t0","warning","edit_product_edit_productvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_0_4_4_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_1_0_0_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_15_4_2_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_2_1_6_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_1_2_2_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_4_2_vue_loader_lib_index_js_vue_loader_options_edit_product_vue_vue_type_style_index_0_id_0e479500_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_0_4_4_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_1_0_0_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_15_4_2_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_2_1_6_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_1_2_2_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_4_2_vue_loader_lib_index_js_vue_loader_options_edit_product_vue_vue_type_style_index_0_id_0e479500_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"yHAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,YAAsBF,EAAA,MAAAJ,EAAAO,GAAA,UAAAH,EAAA,SAAwCE,YAAA,UAAAE,OAA6BC,YAAA,IAAiBC,OAAQC,MAAAX,EAAA,cAAAY,SAAA,SAAAC,GAAmDb,EAAAc,cAAAD,GAAsBE,WAAA,mBAA6BX,EAAA,QAAaI,OAAOQ,KAAA,WAAiBA,KAAA,YAAgBhB,EAAAO,GAAA,YAAAH,EAAA,SAAiCE,YAAA,UAAAE,OAA6BC,YAAA,IAAiBC,OAAQC,MAAAX,EAAA,YAAAY,SAAA,SAAAC,GAAiDb,EAAAiB,YAAAJ,GAAoBE,WAAA,iBAA2BX,EAAA,QAAaI,OAAOQ,KAAA,WAAiBA,KAAA,YAAgBhB,EAAAO,GAAA,YAAAH,EAAA,SAAiCE,YAAA,UAAAE,OAA6BC,YAAA,IAAiBC,OAAQC,MAAAX,EAAA,aAAAY,SAAA,SAAAC,GAAkDb,EAAAkB,aAAAL,GAAqBE,WAAA,kBAA4BX,EAAA,QAAaI,OAAOQ,KAAA,WAAiBA,KAAA,YAAgBhB,EAAAO,GAAA,YAAAH,EAAA,SAAiCE,YAAA,UAAAE,OAA6BC,YAAA,IAAiBC,OAAQC,MAAAX,EAAA,aAAAY,SAAA,SAAAC,GAAkDb,EAAAmB,aAAAN,GAAqBE,WAAA,kBAA4BX,EAAA,QAAaI,OAAOQ,KAAA,WAAiBA,KAAA,YAAgBhB,EAAAO,GAAA,YAAAH,EAAA,SAAiCE,YAAA,UAAAE,OAA6BC,YAAA,IAAiBC,OAAQC,MAAAX,EAAA,WAAAY,SAAA,SAAAC,GAAgDb,EAAAoB,WAAAP,GAAmBE,WAAA,gBAA0BX,EAAA,QAAaI,OAAOQ,KAAA,WAAiBA,KAAA,YAAgBhB,EAAAO,GAAA,YAAAH,EAAA,SAAiCE,YAAA,UAAAE,OAA6BC,YAAA,IAAiBC,OAAQC,MAAAX,EAAA,iBAAAY,SAAA,SAAAC,GAAsDb,EAAAqB,iBAAAR,GAAyBE,WAAA,sBAAgCX,EAAA,QAAaI,OAAOQ,KAAA,WAAiBA,KAAA,YAAgBhB,EAAAO,GAAA,YAAAH,EAAA,OAA+BE,YAAA,YAAsBF,EAAA,UAAeE,YAAA,UAAAE,OAA6Bc,KAAA,QAAcC,IAAKC,MAAAxB,EAAAyB,eAAyBzB,EAAAO,GAAA,UAAAH,EAAA,OAA6BE,YAAA,YAAuBN,EAAA0B,GAAA1B,EAAA,kBAAA2B,EAAAC,GAA4C,OAAAxB,EAAA,OAAiByB,IAAAD,EAAAtB,YAAA,UAAAE,OAAuCsB,SAAA,IAAcP,IAAKQ,WAAA,SAAAC,GAA4BhC,EAAAiC,YAAAL,OAAyB5B,EAAAO,GAAAP,EAAAkC,GAAAP,EAAAQ,MAAA,KAAAnC,EAAAkC,GAAAP,EAAAS,cAAsD,GAAAhC,EAAA,OAAiBE,YAAA,YAAsBF,EAAA,SAAAJ,EAAAO,GAAA,WAAAH,EAAA,YAA+CM,OAAOC,MAAAX,EAAA,YAAAY,SAAA,SAAAC,GAAiDb,EAAAqC,YAAAxB,GAAoBE,WAAA,iBAA2BX,EAAA,SAAAJ,EAAAO,GAAA,WAAAH,EAAA,YAA+CM,OAAOC,MAAAX,EAAA,eAAAY,SAAA,SAAAC,GAAoDb,EAAAsC,eAAAzB,GAAuBE,WAAA,oBAA8BX,EAAA,SAAAJ,EAAAO,GAAA,WAAAH,EAAA,YAA+CM,OAAOC,MAAAX,EAAA,aAAAY,SAAA,SAAAC,GAAkDb,EAAAuC,aAAA1B,GAAqBE,WAAA,kBAA4BX,EAAA,SAAAJ,EAAAO,GAAA,WAAAH,EAAA,YAA+CM,OAAOC,MAAAX,EAAA,aAAAY,SAAA,SAAAC,GAAkDb,EAAAwC,aAAA3B,GAAqBE,WAAA,mBAA4B,GAAAX,EAAA,UAAmBE,YAAA,UAAAE,OAA6BC,YAAA,WAAwBC,OAAQC,MAAAX,EAAA,oBAAAY,SAAA,SAAAC,GAAyDb,EAAAyC,oBAAA5B,GAA4BE,WAAA,wBAAmCf,EAAA0B,GAAA1B,EAAA,sBAAA2B,EAAAC,GAAgD,OAAAxB,EAAA,UAAoByB,IAAAD,EAAApB,OAAiBG,MAAAgB,EAAAhB,SAAoBX,EAAAO,GAAAP,EAAAkC,GAAAP,EAAAe,aAA+BtC,EAAA,SAAeE,YAAA,UAAAE,OAA6Bc,KAAA,aAAkBtB,EAAAO,GAAA,oBAAAH,EAAA,gBAAgDE,YAAA,sBAAAE,OAAyCmC,WAAA3C,EAAA4C,YAA4BrB,IAAKsB,aAAA7C,EAAA8C,iBAAgC9C,EAAA0B,GAAA1B,EAAA,mBAAA+C,EAAAnB,GAAkD,OAAAxB,EAAA,OAAiByB,IAAAD,EAAAtB,YAAA,cAAkCF,EAAA,SAAAJ,EAAAO,GAAAP,EAAAkC,GAAAa,EAAAC,gBAAA5C,EAAA,gBAAwEM,OAAOC,MAAAoC,EAAA,QAAAnC,SAAA,SAAAC,GAAkDb,EAAAiD,KAAAF,EAAA,UAAAlC,IAAmCE,WAAA,uBAAgC,KAAMX,EAAA,UAAeE,YAAA,UAAAE,OAA6Bc,KAAA,UAAA4B,KAAA,IAA2B3B,IAAKC,MAAAxB,EAAAmD,cAAwBnD,EAAAO,GAAA,UAAAH,EAAA,SAA+BI,OAAO4C,MAAA,QAAe7B,IAAK8B,QAAArD,EAAAsD,UAAqB5C,OAAQC,MAAAX,EAAA,WAAAY,SAAA,SAAAC,GAAgDb,EAAAuD,WAAA1C,GAAmBE,WAAA,gBAA0BX,EAAA,SAAcoD,aAAaC,MAAA,SAAgBjD,OAAQC,YAAA,SAAsBC,OAAQC,MAAAX,EAAA,YAAAY,SAAA,SAAAC,GAAiDb,EAAA0D,YAAA7C,GAAoBE,WAAA,iBAA2BX,EAAA,cAAmBE,YAAA,UAAAkD,aAAmCC,MAAA,SAAgBjD,OAAQc,KAAA,OAAAb,YAAA,QAAmCC,OAAQC,MAAAX,EAAA,WAAAY,SAAA,SAAAC,GAAgDb,EAAA2D,WAAA9C,GAAmBE,WAAA,iBAA0B,QAC9kI6C,mICgFAC,GACAC,YACAC,cAAA,KACAC,OAAAC,EAAA,KACAC,YAAAC,EAAA,gBAEAC,KANA,WAOA,OACAC,YACAC,QAAA,GAAAtB,YAAA,SACAsB,QAAA,GAAAtB,YAAA,SACAsB,QAAA,GAAAtB,YAAA,SACAsB,QAAA,GAAAtB,YAAA,SAEAuB,GAAA,GACAC,UAAA,GAEA1D,cAAA,GAEAG,YAAA,GAEAG,WAAA,GAEAD,aAAA,GAEAD,aAAA,GACAG,iBAAA,GACAoD,eAAA,GAEApC,aAAA,EACAC,gBAAA,EACAC,cAAA,EACAC,cAAA,EAEAe,YAAA,EAGAG,YAAA,GACAC,WAAA,GACAe,YAEAC,aACAC,aADA,SACAzC,GACA,OAAAA,KAAA0C,UAAAC,KAAAC,MAAA,QAGAC,aACAJ,aADA,SACAzC,GACA,OAAAA,KAAA0C,UAAAC,KAAAC,MAAA,QAGAE,eAEAtE,MAAA,EACA+B,MAAA,QAGA/B,MAAA,EACA+B,MAAA,QAGA/B,MAAA,EACA+B,MAAA,OAGA/B,MAAA,EACA+B,MAAA,SAGA/B,MAAA,EACA+B,MAAA,QAGA/B,MAAA,EACA+B,MAAA,QAGA/B,MAAA,EACA+B,MAAA,OAGA/B,MAAA,EACA+B,MAAA,QAGA/B,MAAA,EACA+B,MAAA,QAGAD,oBAAA,GACAG,cACAsC,eAGAC,QA9FA,WA+FAlF,KAAAuE,UAAAvE,KAAAmF,OAAAC,OAAAd,GACAtE,KAAAqF,QAAArF,KAAAuE,YAEAe,SACAD,QADA,eAAAE,EAAAC,OAAAC,EAAA,KAAAD,CAAAE,mBAAAC,KAAA,SAAAC,EACArB,GADA,IAAAsB,EAAA1B,EAAA,OAAAuB,mBAAAI,KAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EAEAT,OAAAU,EAAA,KAAAV,CAAAjB,GAFA,OAEAsB,EAFAE,EAAAI,KAGAnG,KAAAsE,GAAAuB,EAAAvB,GACAH,EAAA0B,EAAAO,WACApG,KAAAoE,UAAAD,EAAAkC,cACArG,KAAAa,cAAAsD,EAAAmC,QACAtG,KAAAiB,aAAAkD,EAAAoC,MACAvG,KAAAmB,WAAAgD,EAAAqC,SACAxG,KAAAgB,YAAAmD,EAAAsC,KACAzG,KAAAkB,aAAAiD,EAAAhC,MACAnC,KAAA2C,WAAAwB,EAAAxB,WACA3C,KAAAiF,UAAAd,EAAAc,eACAyB,GAAAvC,EAAAc,YACAjF,KAAAiF,cAEAjF,KAAAoB,iBAAA+C,EAAAwC,UACA3G,KAAAsC,aAAA6B,EAAA7B,eAAA,EACAtC,KAAAuC,aAAA4B,EAAA5B,eAAA,EACAvC,KAAAyE,SAAAN,EAAAM,kBACAiC,GAAAvC,EAAA/B,cACApC,KAAAoC,YAAA+B,EAAA/B,kBAEAsE,GAAAvC,EAAA9B,iBACArC,KAAAqC,eAAA8B,EAAA9B,gBAEArC,KAAAwC,oBAAA2B,EAAA9C,KA1BA,yBAAA0E,EAAAa,SAAAhB,EAAA5F,SAAA,gBAAA6G,GAAA,OAAAtB,EAAAuB,MAAA9G,KAAA+G,YAAA,GA4BA/E,YA5BA,SA4BAL,GACA3B,KAAAyE,SAAAuC,OAAArF,EAAA,IAGA0B,SAhCA,WAiCA,IAAA4D,GACA/E,KAAAlC,KAAA0D,WAAAwD,qBACA/E,MAAAnC,KAAAyD,aAGAzD,KAAAyE,SAAA0C,KAAAF,IAGAzF,YAzCA,WA0CAxB,KAAAsD,YAAA,GAEA8D,iBA5CA,SA4CAjD,GACAnE,KAAAoE,UAAAD,EAAAxC,OAAA0C,QAAAF,EAAAE,SAEAxB,cA/CA,SA+CAsB,GACAnE,KAAA2C,WAAAwB,GAEAkD,aAlDA,SAkDAlD,GACAnE,KAAAiF,UAAAd,GAEAmD,WArDA,WAsDA,IAAAlH,EAAAJ,KACAiH,GACAN,UAAAvG,EAAAgB,iBAEAqF,KAAArG,EAAAY,YACAwF,SAAApG,EAAAe,WACAE,KAAAjB,EAAAoC,oBACA+D,MAAAnG,EAAAa,aACAqF,QAAAlG,EAAAS,cACAsB,MAAA/B,EAAAc,aACAyB,WAAAvC,EAAAuC,WACAsC,UAAA7E,EAAA6E,UACAoB,cAAAjG,EAAAgE,UACAhC,YAAAhC,EAAAgC,YACAC,eAAAjC,EAAAiC,eACAC,aAAAlC,EAAAkC,aACAC,aAAAnC,EAAAmC,aACAkC,SAAArE,EAAAqE,SACAH,GAAAlE,EAAAkE,IAEA,OAAA2C,GAGAM,eA7EA,WA8EA,IAAAnH,EAAAJ,KACAiH,EAAAjH,KAAAsH,aAEME,EAAA,KAANC,aAAA,GAAAR,EAAA,WACA7G,EAAAsH,SAAAC,QAAA,SACAvH,EAAAwH,QAAAT,KAAA,qBAGAjE,WAtFA,eAAA2E,EAAArC,OAAAC,EAAA,KAAAD,CAAAE,mBAAAC,KAAA,SAAAmC,IAAA,IAAAb,EAAAc,EAAA/H,KAAA,OAAA0F,mBAAAI,KAAA,SAAAkC,GAAA,eAAAA,EAAAhC,KAAAgC,EAAA/B,MAAA,cAAA+B,EAAAhC,KAAA,EAwFAiB,EAAAjH,KAAAsH,aACAtH,KAAA2C,WAAAsF,QACAjI,KAAA0H,SAAAQ,MAAA,aA1FAF,EAAA/B,KAAA,EA4FAT,OAAAU,EAAA,KAAAV,CAAAyB,GA5FA,OAAAe,EAAA7B,KA8FAnG,KAAA0H,SAAAC,QAAA,QACA3H,KAAAmI,UAAA,WACAJ,EAAAH,QAAAQ,GAAA,KAhGAJ,EAAA/B,KAAA,iBAAA+B,EAAAhC,KAAA,GAAAgC,EAAAK,GAAAL,EAAA,YAmGAhI,KAAA0H,SAAAY,QAAA,QAnGA,yBAAAN,EAAApB,SAAAkB,EAAA9H,OAAA,oCAAA6H,EAAAf,MAAA9G,KAAA+G,YAAA,KCnLwdwB,EAAA,0BCQxdC,EAAgBhD,OAAAiD,EAAA,KAAAjD,CACd+C,EACAzI,EACA6D,GACF,EACA,KACA,WACA,MAIA6E,EAAAE,QAAAC,OAAA,mBACeC,EAAA,WAAAJ,oECpBf,IAAAK,EAAAC,EAAA,QAAAC,EAAAD,EAAAE,EAAAH,GAA6oBE,EAAG","file":"js/chunk-73fc301f.0e416fe6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_c('h2',[_vm._v(\"产品发布\")]),_c('Input',{staticClass:\"product\",attrs:{\"placeholder\":\"\"},model:{value:(_vm.productNumber),callback:function ($$v) {_vm.productNumber=$$v},expression:\"productNumber\"}},[_c('span',{attrs:{\"slot\":\"prepend\"},slot:\"prepend\"},[_vm._v(\"产品编号\")])]),_c('Input',{staticClass:\"product\",attrs:{\"placeholder\":\"\"},model:{value:(_vm.productName),callback:function ($$v) {_vm.productName=$$v},expression:\"productName\"}},[_c('span',{attrs:{\"slot\":\"prepend\"},slot:\"prepend\"},[_vm._v(\"产品名称\")])]),_c('Input',{staticClass:\"product\",attrs:{\"placeholder\":\"\"},model:{value:(_vm.productPlace),callback:function ($$v) {_vm.productPlace=$$v},expression:\"productPlace\"}},[_c('span',{attrs:{\"slot\":\"prepend\"},slot:\"prepend\"},[_vm._v(\"出发城市\")])]),_c('Input',{staticClass:\"product\",attrs:{\"placeholder\":\"\"},model:{value:(_vm.productPrice),callback:function ($$v) {_vm.productPrice=$$v},expression:\"productPrice\"}},[_c('span',{attrs:{\"slot\":\"prepend\"},slot:\"prepend\"},[_vm._v(\"产品价格\")])]),_c('Input',{staticClass:\"product\",attrs:{\"placeholder\":\"\"},model:{value:(_vm.productDes),callback:function ($$v) {_vm.productDes=$$v},expression:\"productDes\"}},[_c('span',{attrs:{\"slot\":\"prepend\"},slot:\"prepend\"},[_vm._v(\"产品描述\")])]),_c('Input',{staticClass:\"product\",attrs:{\"placeholder\":\"\"},model:{value:(_vm.productStartDate),callback:function ($$v) {_vm.productStartDate=$$v},expression:\"productStartDate\"}},[_c('span',{attrs:{\"slot\":\"prepend\"},slot:\"prepend\"},[_vm._v(\"开始时间\")])]),_c('div',{staticClass:\"product\"},[_c('Button',{staticClass:\"product\",attrs:{\"type\":\"info\"},on:{\"click\":_vm.priceSelect}},[_vm._v(\"价格添加\")]),_c('div',{staticClass:\"priceTag\"},_vm._l((_vm.tagArray),function(item,index){return _c('Tag',{key:index,staticClass:\"tagView\",attrs:{\"closable\":\"\"},on:{\"on-close\":function($event){_vm.handleClose(index)}}},[_vm._v(_vm._s(item.date)+\" ￥\"+_vm._s(item.price))])}))],1),_c('div',{staticClass:\"product\"},[_c('label',[_vm._v(\"是否特价:\")]),_c('i-switch',{model:{value:(_vm.isRecommend),callback:function ($$v) {_vm.isRecommend=$$v},expression:\"isRecommend\"}}),_c('label',[_vm._v(\"是否推荐:\")]),_c('i-switch',{model:{value:(_vm.isSpecialPrice),callback:function ($$v) {_vm.isSpecialPrice=$$v},expression:\"isSpecialPrice\"}}),_c('label',[_vm._v(\"是否跟团游\")]),_c('i-switch',{model:{value:(_vm.isFollowTeam),callback:function ($$v) {_vm.isFollowTeam=$$v},expression:\"isFollowTeam\"}}),_c('label',[_vm._v(\"是否自由行\")]),_c('i-switch',{model:{value:(_vm.isFreeTravel),callback:function ($$v) {_vm.isFreeTravel=$$v},expression:\"isFreeTravel\"}})],1),_c('Select',{staticClass:\"product\",attrs:{\"placeholder\":\"请选择产品类型\"},model:{value:(_vm.productTypeSelected),callback:function ($$v) {_vm.productTypeSelected=$$v},expression:\"productTypeSelected\"}},_vm._l((_vm.productTypes),function(item,index){return _c('Option',{key:index,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])})),_c('Alert',{staticClass:\"myAlert\",attrs:{\"type\":\"warning\"}},[_vm._v(\"产品详情滚动图（至少传一张)\")]),_c('image-upload',{staticClass:\"product imageUpload\",attrs:{\"uploadList\":_vm.imageArray},on:{\"send-image\":_vm.getImageArray}}),_vm._l((_vm.richItems),function(richItem,index){return _c('div',{key:index,staticClass:\"myProduct\"},[_c('Alert',[_vm._v(_vm._s(richItem.placeHolder))]),_c('quill-editor',{model:{value:(richItem.content),callback:function ($$v) {_vm.$set(richItem, \"content\", $$v)},expression:\"richItem.content\"}})],1)}),_c('Button',{staticClass:\"product\",attrs:{\"type\":\"success\",\"long\":\"\"},on:{\"click\":_vm.submitData}},[_vm._v(\"确认提交\")]),_c('Modal',{attrs:{\"title\":\"价格添加\"},on:{\"on-ok\":_vm.priceAdd},model:{value:(_vm.priceModal),callback:function ($$v) {_vm.priceModal=$$v},expression:\"priceModal\"}},[_c('Input',{staticStyle:{\"width\":\"300px\"},attrs:{\"placeholder\":\"请输入价格\"},model:{value:(_vm.singlePrice),callback:function ($$v) {_vm.singlePrice=$$v},expression:\"singlePrice\"}}),_c('DatePicker',{staticClass:\"product\",staticStyle:{\"width\":\"300px\"},attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.singleDate),callback:function ($$v) {_vm.singleDate=$$v},expression:\"singleDate\"}})],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<style scoped>\n.product {\n  margin-top: 10px;\n}\n\n.myAlert {\n  margin-top: 30px;\n}\n\n.imageUpload {\n  margin-bottom: 30px;\n}\n</style>\n\n<template>\n  <div class=\"content\">\n    <h2>产品发布</h2>\n    <Input v-model=\"productNumber\" placeholder=\"\" class=\"product\">\n    <span slot=\"prepend\">产品编号</span>\n    </Input>\n    <Input v-model=\"productName\" placeholder=\"\" class=\"product\">\n    <span slot=\"prepend\">产品名称</span>\n    </Input>\n    <Input v-model=\"productPlace\" placeholder=\"\" class=\"product\">\n    <span slot=\"prepend\">出发城市</span>\n    </Input>\n    <Input v-model=\"productPrice\" placeholder=\"\" class=\"product\">\n    <span slot=\"prepend\">产品价格</span>\n    </Input>\n    <Input v-model=\"productDes\" placeholder=\"\" class=\"product\">\n    <span slot=\"prepend\">产品描述</span>\n    </Input>\n    <Input v-model=\"productStartDate\" placeholder=\"\" class=\"product\">\n    <span slot=\"prepend\">开始时间</span>\n    </Input>\n    <div class=\"product\">\n      <Button type=\"info\" class=\"product\" @click=\"priceSelect\">价格添加</Button>\n      <div class=\"priceTag\">\n        <Tag class=\"tagView\" v-for=\"(item,index) in tagArray\" :key=\"index\" closable @on-close=\"handleClose(index)\">{{item.date}} ￥{{item.price}}</Tag>\n      </div>\n    </div>\n    <div class=\"product\">\n      <label>是否特价:</label>\n      <i-switch v-model=\"isRecommend\"></i-switch>\n      <label>是否推荐:</label>\n      <i-switch v-model=\"isSpecialPrice\"></i-switch>\n      <label>是否跟团游</label>\n      <i-switch v-model=\"isFollowTeam\"></i-switch>\n      <label>是否自由行</label>\n      <i-switch v-model=\"isFreeTravel\"></i-switch>\n    </div>\n    <Select v-model=\"productTypeSelected\" class=\"product\" placeholder=\"请选择产品类型\">\n      <Option v-for=\"(item,index) in productTypes\" :value=\"item.value\" :key=\"index\">{{ item.label }}</Option>\n    </Select>\n    <Alert class=\"myAlert\" type=\"warning\">产品详情滚动图（至少传一张)</Alert>\n    <image-upload class=\"product imageUpload\" @send-image=\"getImageArray\" :uploadList=\"imageArray\">\n    </image-upload>\n    <div v-for=\"(richItem, index) in richItems\" :key=\"index\" class=\"myProduct\">\n      <Alert>{{richItem.placeHolder}}</Alert>\n      <quill-editor v-model=\"richItem.content\"></quill-editor>\n    </div>\n    <Button type=\"success\" long @click=\"submitData\" class=\"product\">确认提交</Button>\n    <!-- <Button type=\"error\" long @click=\"elseSubmitData\" class=\"product\">另存为</Button> -->\n\n    <Modal v-model=\"priceModal\" title=\"价格添加\" @on-ok=\"priceAdd\">\n      <Input v-model=\"singlePrice\" placeholder=\"请输入价格\" style=\"width: 300px\"></Input>\n      <DatePicker v-model=\"singleDate\" type=\"date\" placeholder=\"选择日期\" style=\"width: 300px\" class=\"product\"></DatePicker>\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport imageUpload from \"@/components/product/imageUpload\";\nimport network from \"@/components/product/network.js\";\nimport Editor from \"_c/editor\";\nimport \"quill/dist/quill.core.css\";\nimport \"quill/dist/quill.snow.css\";\nimport \"quill/dist/quill.bubble.css\";\n\nimport { quillEditor } from \"vue-quill-editor\";\nimport { saveEditProduct,getProductDetail } from \"@/libs/service\";\nexport default {\n  components: {\n    imageUpload,\n    Editor,\n    quillEditor\n  },\n  data() {\n    return {\n      richItems: [\n        { content: \"\", placeHolder: \"线路特色\" },\n        { content: \"\", placeHolder: \"行程介绍\" },\n        { content: \"\", placeHolder: \"费用说明\" },\n        { content: \"\", placeHolder: \"预订须知\" }\n      ],\n     id:'',\n      productId: \"\",\n      //产品编号\n      productNumber: \"\",\n      //产品名称\n      productName: \"\",\n      //产品描述\n      productDes: \"\",\n      //产品价格\n      productPrice: \"\",\n      // 出发城市\n      productPlace: \"\",\n      productStartDate: \"\",\n      productEndDate: \"\",\n      //是否推荐\n      isRecommend: false,\n      isSpecialPrice: false,\n      isFollowTeam: false,\n      isFreeTravel: false,\n      // 模态框\n      priceModal: false,\n      //是否特价\n      //价格添加\n      singlePrice: \"\",\n      singleDate: \"\",\n      tagArray: [],\n      //日期格式设置\n      dateOption1: {\n        disabledDate(date) {\n          return date && date.valueOf() < Date.now() - 86400000;\n        }\n      },\n      dateOption2: {\n        disabledDate(date) {\n          return date && date.valueOf() < Date.now() - 86400000;\n        }\n      },\n      productTypes: [\n        {\n          value: 1,\n          label: \"巴厘岛\"\n        },\n        {\n          value: 2,\n          label: \"沙巴岛\"\n        },\n        {\n          value: 3,\n          label: \"芽庄\"\n        },\n        {\n          value: 4,\n          label: \"马尔代夫\"\n        },\n        {\n          value: 5,\n          label: \"普吉岛\"\n        },\n        {\n          value: 6,\n          label: \"长滩岛\"\n        },\n        {\n          value: 7,\n          label: \"帕劳\"\n        },\n        {\n          value: 8,\n          label: \"大溪地\"\n        },\n        {\n          value: 9,\n          label: \"苏梅岛\"\n        }\n      ],\n      productTypeSelected: \"\",\n      imageArray: [],\n      fileArray: []\n    };\n  },\n  created() {\n    this.productId = this.$route.params.id;\n    this.getData(this.productId)\n  },\n  methods: {\n      async getData(productId){\n        let info = await getProductDetail(productId)\n        this.id = info.id\n        let data = info.attributes\n        this.richItems = data.detailContent;\n        this.productNumber = data.onleyId;\n        this.productPlace = data.place;\n        this.productDes = data.describe;\n        this.productName = data.name;\n        this.productPrice = data.price;\n        this.imageArray = data.imageArray;\n        this.fileArray = data.fileArray;\n        if (data.fileArray == undefined) {\n          this.fileArray = [];\n        }\n        this.productStartDate = data.startDate;\n        this.isFollowTeam = data.isFollowTeam || false;\n        this.isFreeTravel = data.isFreeTravel || false;\n        this.tagArray = data.tagArray || [];\n        if (data.isRecommend != undefined) {\n          this.isRecommend = data.isRecommend;\n        }\n        if (data.isSpecialPrice != undefined) {\n          this.isSpecialPrice = data.isSpecialPrice;\n        }\n        this.productTypeSelected = data.type;\n      },\n    handleClose(index) {\n      this.tagArray.splice(index, 1);\n    },\n    // 价格添加\n    priceAdd() {\n      let dict = {\n        date: this.singleDate.toLocaleDateString(),\n        price: this.singlePrice\n      };\n\n      this.tagArray.push(dict);\n    },\n    //价格选择\n    priceSelect() {\n      this.priceModal = true;\n    },\n    getRichTextArray(data) {\n      this.richItems[data.index].content = data.content;\n    },\n    getImageArray(data) {\n      this.imageArray = data;\n    },\n    getFileArray(data) {\n      this.fileArray = data;\n    },\n    getNowData() {\n      var _self = this;\n      var dict = {\n        startDate: _self.productStartDate,\n        // endDate: _self.productEndDate,\n        name: _self.productName,\n        describe: _self.productDes,\n        type: _self.productTypeSelected,\n        place: _self.productPlace,\n        onleyId: _self.productNumber,\n        price: _self.productPrice,\n        imageArray: _self.imageArray,\n        fileArray: _self.fileArray,\n        detailContent: _self.richItems,\n        isRecommend: _self.isRecommend,\n        isSpecialPrice: _self.isSpecialPrice,\n        isFollowTeam: _self.isFollowTeam,\n        isFreeTravel: _self.isFreeTravel,\n        tagArray: _self.tagArray,\n        id:_self.id,\n      };\n      return dict;\n    },\n    // 另存为\n    elseSubmitData() {\n      var _self = this;\n      let dict = this.getNowData();\n\n      network.uploadProdut(\"\", dict, function() {\n        _self.$Message.success(\"另存为成功\");\n        _self.$router.push(\"/productManage\");\n      });\n    },\n    async submitData() {\n      try {\n        var dict = this.getNowData();\n        if (!this.imageArray.length) {\n          this.$Message.error(\"请上传图片至少一张\");\n        }\n        let data = await saveEditProduct(dict);\n        debugger\n        this.$Message.success(\"保存成功\");\n        this.$nextTick(()=>{\n          this.$router.go(0)\n        })\n      } catch (error) {\n        this.$Message.warning(\"操作失败\");\n      }\n    }\n  }\n};\n</script>\n\n\n","import mod from \"-!../../../../node_modules/_cache-loader@1.2.2@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@1.2.0@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.0.4@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@1.2.2@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./edit-product.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@1.2.2@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@1.2.0@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.0.4@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@1.2.2@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./edit-product.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./edit-product.vue?vue&type=template&id=0e479500&scoped=true&\"\nimport script from \"./edit-product.vue?vue&type=script&lang=js&\"\nexport * from \"./edit-product.vue?vue&type=script&lang=js&\"\nimport style0 from \"./edit-product.vue?vue&type=style&index=0&id=0e479500&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0e479500\",\n  null\n  \n)\n\ncomponent.options.__file = \"edit-product.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/_mini-css-extract-plugin@0.4.4@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/_css-loader@1.0.0@css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../../node_modules/_cache-loader@1.2.2@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./edit-product.vue?vue&type=style&index=0&id=0e479500&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.4.4@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/_css-loader@1.0.0@css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@2.1.6@postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../../node_modules/_cache-loader@1.2.2@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.4.2@vue-loader/lib/index.js??vue-loader-options!./edit-product.vue?vue&type=style&index=0&id=0e479500&scoped=true&lang=css&\""],"sourceRoot":""}